<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Lubrificação Avançada</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>Calculadora de Lubrificação de Rolamentos</h1>
        <p style="text-align: center; margin-top: -1.5rem; margin-bottom: 2rem; opacity: 0.7;">
            Uma ferramenta de engenharia para estimar a lubrificação ideal para suas aplicações.
        </p>

        <form id="lubricationForm" onsubmit="return false;">
            <fieldset>
                <legend>1. Dados do Rolamento</legend>
                <div class="form-group">
                    <label for="bearingType">Tipo de Rolamento:</label>
                    <select id="bearingType" name="bearingType">
                        <option value="ball">Rígido de Esferas (DGBB)</option>
                        <option value="angular">Contato Angular (ACBB)</option>
                        <option value="sphericalRoller">Autocompensador de Rolos (SRB)</option>
                        <option value="taperedRoller">Rolos Cônicos (TRB)</option>
                        <option value="cylindricalRoller">Rolos Cilíndricos (CRB)</option>
                    </select>
                </div>
                <div class="form-group"><label for="boreDiameter">Diâmetro do Furo (d, mm):</label><input type="number" id="boreDiameter" placeholder="ex: 50" required></div>
                <div class="form-group"><label for="outerDiameter">Diâmetro Externo (D, mm):</label><input type="number" id="outerDiameter" placeholder="ex: 110" required></div>
                <div class="form-group"><label for="width">Largura (B, mm):</label><input type="number" id="width" placeholder="ex: 27" required></div>
            </fieldset>

            <fieldset>
                <legend>2. Condições Operacionais</legend>
                <div class="form-group"><label for="rpm">Rotação (RPM):</label><input type="number" id="rpm" placeholder="ex: 1800" required></div>
                <div class="form-group"><label for="temperature">Temperatura de Operação (°C):</label><input type="number" id="temperature" value="70" required></div>
                <div class="form-group"><label for="workingHours">Horas de Trabalho (semanal):</label><input type="number" id="workingHours" value="168" required></div>
                <div class="form-group"><label for="greaseDensity">Densidade da Graxa (g/cm³):</label><input type="number" step="0.01" id="greaseDensity" value="0.90" required></div>
            </fieldset>

            <fieldset>
                <legend>3. Fatores de Correção do Ambiente</legend>
                <div class="form-group">
                    <label for="loadCondition">Condição de Carga:</label>
                    <select id="loadCondition">
                        <option value="normal">Normal (< 3% C)</option>
                        <option value="heavy">Carga Pesada (3-10% C)</option>
                        <option value="shock">Carga com Choques (> 10% C)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="environment">Nível de Contaminação:</label>
                    <select id="environment">
                        <option value="clean">Limpo</option>
                        <option value="dusty">Poeira Abrasiva</option>
                        <option value="humid">Presença de Água</option>
                        <option value="chemical">Agentes Químicos</option>
                    </select>
                </div>
                 <div class="form-group"><label for="moisture">Fator de Umidade (0.1 = Muita água, 1.0 = Seco):</label><input type="range" id="moisture" min="0.1" max="1.0" step="0.1" value="1.0"></div>
                 <div class="form-group"><label for="vibration">Fator de Vibração (0.1 = Severa, 1.0 = Nenhuma):</label><input type="range" id="vibration" min="0.1" max="1.0" step="0.1" value="1.0"></div>
                 <div class="form-group"><label for="orientation">Fator de Orientação (Eixo Horizontal=1.0, Vertical=0.5):</label><input type="range" id="orientation" min="0.1" max="1.0" step="0.1" value="1.0"></div>
            </fieldset>
            
            <div class="buttons">
                <button type="button" id="calculate">Calcular</button>
                <button type="button" id="reset">Limpar</button>
            </div>
        </form>

        <section id="results" style="display:none;">
            <h2>Resultados da Simulação</h2>
            <div class="result-grid">
                <div class="result-item"><strong>Carga Inicial de Graxa:</strong> <span id="initialFill"></span> g</div>
                <div class="result-item"><strong>Volume da Carga Inicial:</strong> <span id="initialFillCm3"></span> cm³</div>
                <div class="result-item"><strong>Quantidade de Relubrificação:</strong> <span id="relubAmount"></span> g</div>
                <div class="result-item"><strong>Intervalo (Horas):</strong> <span id="relubInterval"></span> horas</div>
                <div class="result-item"><strong>Intervalo (Dias):</strong> <span id="lubricationIntervalResult"></span></div>
                <div class="result-item"><strong>Intervalo (Semanas):</strong> <span id="relubIntervalWeeks"></span></div>
                <div class="result-item"><strong>Vida Estimada da Graxa (L10):</strong> <span id="greaseLife"></span> horas</div>
                <div class="result-item"><strong>Volume para Lub. Contínua:</strong> <span id="continuousVolume"></span> cm³/h</div>
                <div class="result-item"><strong>Massa do Rolamento (Aprox.):</strong> <span id="bearingMass"></span> kg</div>
            </div>
            <h3>Recomendação de Graxa</h3>
            <div class="result-grid">
                 <div class="result-item"><strong>Viscosidade do Óleo Base (ISO VG):</strong> <span id="recViscosity"></span></div>
                 <div class="result-item"><strong>Tipo de Espessante:</strong> <span id="recThickener"></span></div>
                 <div class="result-item"><strong>Grau de Consistência (NLGI):</strong> <span id="recNLGI"></span></div>
                 <div class="result-item"><strong>Aditivos Recomendados:</strong> <span id="recAdditives"></span></div>
            </div>
             <div id="notesResult">
                <h4>Notas Importantes de Engenharia:</h4>
                <p>...</p>
            </div>
        </section>
    </div>
    <button id="scrollTopBtn" style="display:none;">&uarr;</button>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
